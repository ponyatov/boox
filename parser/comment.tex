\secrel{Добавляем обработку комментариев}\label{minicomment}

В тестах программ и файлов конфигурации очень часто используются
\term{комментарии}. В языке \py, \bi\ и UNIX shell комментарием является все
от символа \#\ до конца строки.

Для обработки таких \termdef{строчных комментариев}{строчный комментарий}\
достаточно добавить одно правило лексера, \emph{обязательно первым правилом}:

\lstx{Лексер со строчными комментариями}{parser/comment.lpp}

Группа символов, начинающаяся с символа \#, затем идет ноль или более \verb|[]*|
любых символов не равных \verb|^|\ концу строки \verb|\n|.
Пустое тело правила: \cpp\ код в \verb|{}|\ скобках\ --- выполняется и ничего не
делает.

Тело правила SYM\ --- вызов макроса \verb|TOC(C,X)|, наоборот, при своем
выполнении создает токен, и возвращает код токена \verb|=SYM|.

\lstx{\file{comment.log}: Результат прогона}{parser/comment.log}

Как видно из лога, из вывода исчезли первые 2 строки, начинающиеся на \#, причем
концы этих строк остались (но не были как-либо распознаны).