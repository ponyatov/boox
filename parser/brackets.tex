\secrel{Добавляем операторы}\label{miniops}

Для разбора языков программирования необходима поддержка операторов,
включим общепринятые одиночные операторы, операторы \cpp\ и \bi.
\emph{Скобки различного вида тоже будет рассматривать как операторы.}
Операторы реализованы в ядре \bi\ как отдельный класс \class{op}, зададим
пачку правил разбора операторов, создающих токены \verb|TOC(Op,XXX)|:

\lstx{Лексер с операторами}{parser/ops.lpp}

\lstx{Парсер с операторами}{parser/ops.ypp}

Лог уже стал нечитаем, переключаемся на древовидный вывод через метод
\verb|Sym.dump()|.

\lstx{Разбор с операторами}{parser/ops.log}

\secrel{Обработка вложенных структур (скобок)}

Обработка вложенных структур возможна только парсером, лексер оставляем
без изменений. Хранение вложенных структур в виде дерева\ --- главная фича
типа \bi\ AST\ref{ast}. Заменяем грамматическое выражение \verb|bracket|\ на
отдельные выражения для скобок:

\lstx{Парсер со скобками}{parser/brackets.ypp}

\lstx{Разбор со скобками}{parser/brackets.log}
